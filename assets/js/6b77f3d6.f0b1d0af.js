"use strict";(globalThis.webpackChunksoft_kitty_docs=globalThis.webpackChunksoft_kitty_docs||[]).push([[2418],{2023(e,n,t){t.r(n),t.d(n,{assets:()=>l,contentTitle:()=>c,default:()=>h,frontMatter:()=>s,metadata:()=>r,toc:()=>d});const r=JSON.parse('{"id":"master-inventory-engine/getting-started/common-use-cases","title":"Common Use Cases","description":"How To Access The Player\'s Inventory And Equipment Data","source":"@site/docs/master-inventory-engine/getting-started/common-use-cases.md","sourceDirName":"master-inventory-engine/getting-started","slug":"/master-inventory-engine/getting-started/common-use-cases","permalink":"/Soft-Kitty-Documentation/docs/master-inventory-engine/getting-started/common-use-cases","draft":false,"unlisted":false,"tags":[],"version":"current","frontMatter":{"title":"Common Use Cases"},"sidebar":"docs","previous":{"title":"Getting Started","permalink":"/Soft-Kitty-Documentation/docs/master-inventory-engine/getting-started/"},"next":{"title":"Item Manager Setting","permalink":"/Soft-Kitty-Documentation/docs/master-inventory-engine/settings"}}');var i=t(4848),a=t(8453);const s={title:"Common Use Cases"},c=void 0,l={},d=[{value:"How To Access The Player&#39;s Inventory And Equipment Data",id:"how-to-access-the-players-inventory-and-equipment-data",level:3},{value:"How To Retrieve Player&#39;s Attributes With Equipped Items",id:"how-to-retrieve-players-attributes-with-equipped-items",level:3},{value:"How To Get, Add, Remove, Or Use Items From An InventoryData",id:"how-to-get-add-remove-or-use-items-from-an-inventorydata",level:3},{value:"Get the Number of Items:",id:"get-the-number-of-items",level:4},{value:"Add Items:",id:"add-items",level:4},{value:"Remove Items:",id:"remove-items",level:4},{value:"Use an Item:",id:"use-an-item",level:4},{value:"Managing Currencies:",id:"managing-currencies",level:3},{value:"Retrieve the current amount of a specific currency:",id:"retrieve-the-current-amount-of-a-specific-currency",level:4},{value:"Add or Remove Currency:",id:"add-or-remove-currency",level:4},{value:"Set Currency to a Fixed Value:",id:"set-currency-to-a-fixed-value",level:4}];function o(e){const n={a:"a",code:"code",h3:"h3",h4:"h4",hr:"hr",li:"li",ol:"ol",p:"p",pre:"pre",strong:"strong",ul:"ul",...(0,a.R)(),...e.components};return(0,i.jsxs)(i.Fragment,{children:[(0,i.jsx)(n.h3,{id:"how-to-access-the-players-inventory-and-equipment-data",children:"How To Access The Player's Inventory And Equipment Data"}),"\n",(0,i.jsxs)(n.p,{children:["The ",(0,i.jsx)(n.a,{href:"/docs/master-inventory-engine/item-class/item-data",children:"InventoryData"})," class is responsible for managing all items for each unit."]}),"\n",(0,i.jsx)(n.p,{children:"Here\u2019s how you can access it in different scenarios:"}),"\n",(0,i.jsxs)(n.ol,{children:["\n",(0,i.jsx)(n.li,{children:"Accessing the Player\u2019s Inventory and Equipment"}),"\n"]}),"\n",(0,i.jsxs)(n.ul,{children:["\n",(0,i.jsxs)(n.li,{children:[(0,i.jsx)(n.strong,{children:"Player\u2019s Inventory"}),": Use ",(0,i.jsx)(n.a,{href:"/docs/core/general/game-manager",children:"GameManager"}),(0,i.jsx)(n.code,{children:".PlayerInventoryData"})," to get the player\u2019s inventory data."]}),"\n",(0,i.jsxs)(n.li,{children:[(0,i.jsx)(n.strong,{children:"Player\u2019s Equipment"}),": Use ",(0,i.jsx)(n.a,{href:"/docs/core/general/game-manager",children:"GameManager"}),(0,i.jsx)(n.code,{children:".PlayerEquipmentData"})," to get the player\u2019s equipment data."]}),"\n"]}),"\n",(0,i.jsxs)(n.ol,{start:"2",children:["\n",(0,i.jsxs)(n.li,{children:["Accessing ",(0,i.jsx)(n.a,{href:"/docs/master-inventory-engine/item-class/item-data",children:"InventoryData"})," for Other Units (e.g., ",(0,i.jsx)(n.strong,{children:"NPCs, Crates, Merchants"}),")\r\nTo retrieve the ",(0,i.jsx)(n.a,{href:"/docs/master-inventory-engine/item-class/item-data",children:"InventoryData"})," data for other units, such as NPCs, crates, or merchants, use the following API call:"]}),"\n"]}),"\n",(0,i.jsx)(n.pre,{children:(0,i.jsx)(n.code,{className:"language-csharp",children:'//Retrieve the inventory data of a NPC with its unique entity id.\r\n   GameManager.EntityManagerData.GetEntity("Npc_Entity_id").GetInventory();\r\n//Retrieve the equipment data of a NPC with its unique entity id.\r\n   GameManager.EntityManagerData.GetEntity("Npc_Entity_id").GetEquipment(); \r\n//Retrieve any existing inventory data of a NPC with its unique entity id.\r\n   GameManager.EntityManagerData.GetEntity("Npc_Entity_id").GetAnyInventoryData(); \n'})}),"\n",(0,i.jsx)(n.pre,{children:(0,i.jsx)(n.code,{className:"language-csharp",children:'//Retrieve a specified type of inventory data of a NPC with its unique entity id.\r\nGameManager.EntityManagerData.GetEntity("Npc_Entity_id").GetInventoryDataByType(InventoryData.HolderType.Merchant);\n'})}),"\n",(0,i.jsxs)(n.ul,{children:["\n",(0,i.jsxs)(n.li,{children:["\n",(0,i.jsx)(n.p,{children:(0,i.jsx)(n.strong,{children:"Parameters:"})}),"\n",(0,i.jsxs)(n.ul,{children:["\n",(0,i.jsxs)(n.li,{children:[(0,i.jsx)(n.code,{children:"_type"}),": The type of ",(0,i.jsx)(n.a,{href:"/docs/master-inventory-engine/item-class/item-data",children:"InventoryData"})," you\u2019re looking for."]}),"\n"]}),"\n"]}),"\n",(0,i.jsxs)(n.li,{children:["\n",(0,i.jsx)(n.p,{children:(0,i.jsx)(n.strong,{children:"Available types include:"})}),"\n",(0,i.jsxs)(n.ul,{children:["\n",(0,i.jsxs)(n.li,{children:[(0,i.jsx)(n.code,{children:"Crate"}),": Represents a crate or container."]}),"\n",(0,i.jsxs)(n.li,{children:[(0,i.jsx)(n.code,{children:"Merchant"}),": Represents a merchant or store inventory."]}),"\n",(0,i.jsxs)(n.li,{children:[(0,i.jsx)(n.code,{children:"PlayerInventory"}),": Represents the player\u2019s inventory."]}),"\n",(0,i.jsxs)(n.li,{children:[(0,i.jsx)(n.code,{children:"PlayerEquipment"}),": Represents the player\u2019s equipped items."]}),"\n",(0,i.jsxs)(n.li,{children:[(0,i.jsx)(n.code,{children:"NpcInventory"}),": Represents an NPC\u2019s inventory."]}),"\n",(0,i.jsxs)(n.li,{children:[(0,i.jsx)(n.code,{children:"NpcEquipment"}),": Represents an NPC\u2019s equipped items."]}),"\n"]}),"\n"]}),"\n"]}),"\n",(0,i.jsx)(n.hr,{}),"\n",(0,i.jsx)(n.h3,{id:"how-to-retrieve-players-attributes-with-equipped-items",children:"How To Retrieve Player's Attributes With Equipped Items"}),"\n",(0,i.jsxs)(n.ul,{children:["\n",(0,i.jsx)(n.li,{children:"To get the total stats of the player, including bonuses from all equipped items, use the following method:"}),"\n"]}),"\n",(0,i.jsx)(n.pre,{children:(0,i.jsx)(n.code,{className:"language-csharp",children:'//For player\r\n  GameManager.GetPlayer().GetAttributeFloat("atk");\n'})}),"\n",(0,i.jsx)(n.pre,{children:(0,i.jsx)(n.code,{className:"language-csharp",children:"Entity.GetAttributeFloat(string _uid, bool _inculdTempValue = true)\n"})}),"\n",(0,i.jsxs)(n.ul,{children:["\n",(0,i.jsxs)(n.li,{children:["\n",(0,i.jsx)(n.p,{children:(0,i.jsx)(n.strong,{children:"Parameter:"})}),"\n",(0,i.jsxs)(n.ul,{children:["\n",(0,i.jsxs)(n.li,{children:[(0,i.jsx)(n.code,{children:"_uid"}),": The string unique id of the ",(0,i.jsx)(n.a,{href:"/docs/core/attributes/Attribute",children:"Attribute"})," you want to retrieve. You can define these keys in the ",(0,i.jsx)(n.a,{href:"/docs/core/attributes/AttributeObject",children:"AttributeObject"}),". In the above example, the Attack ",(0,i.jsx)(n.a,{href:"/docs/core/attributes/Attribute",children:"Attribute"}),' has a UID of "',(0,i.jsx)(n.strong,{children:"atk"}),'". You can use this UID to retrieve the total Attack value contributed by all equipped items.']}),"\n",(0,i.jsxs)(n.li,{children:["_inculdTempValue: Time based stats, see: ",(0,i.jsx)(n.a,{href:"/docs/core/attributes/TempAttribute",children:"TempAttribute"})]}),"\n"]}),"\n"]}),"\n",(0,i.jsxs)(n.li,{children:["\n",(0,i.jsx)(n.p,{children:(0,i.jsx)(n.strong,{children:"For NPCs:"})}),"\n",(0,i.jsxs)(n.ul,{children:["\n",(0,i.jsx)(n.li,{children:"The process is the same for NPCs:"}),"\n"]}),"\n"]}),"\n"]}),"\n",(0,i.jsx)(n.pre,{children:(0,i.jsx)(n.code,{className:"language-csharp",children:'//For npc\r\n  GameManager.EntityManagerData.GetEntity("Npc_Entity_id").GetAttributeFloat("atk");\n'})}),"\n",(0,i.jsxs)(n.ul,{children:["\n",(0,i.jsxs)(n.li,{children:["With this method, you can calculate any ",(0,i.jsx)(n.a,{href:"/docs/core/attributes/Attribute",children:"Attribute"})," value for both players and NPCs based on their equipped items."]}),"\n"]}),"\n",(0,i.jsx)(n.hr,{}),"\n",(0,i.jsx)(n.h3,{id:"how-to-get-add-remove-or-use-items-from-an-inventorydata",children:"How To Get, Add, Remove, Or Use Items From An InventoryData"}),"\n",(0,i.jsx)(n.h4,{id:"get-the-number-of-items",children:"Get the Number of Items:"}),"\n",(0,i.jsx)(n.p,{children:"Retrieve the number of a specific item in the inventory:"}),"\n",(0,i.jsx)(n.pre,{children:(0,i.jsx)(n.code,{className:"language-csharp",children:"//InventoryData class\r\n  public int GetItemNumber(int _uid, bool _includeHiddenStacks=true)\n"})}),"\n",(0,i.jsxs)(n.ul,{children:["\n",(0,i.jsxs)(n.li,{children:[(0,i.jsx)(n.code,{children:"_uid"}),": The ",(0,i.jsx)(n.strong,{children:"unique ID"})," of the item."]}),"\n",(0,i.jsxs)(n.li,{children:[(0,i.jsx)(n.code,{children:"_includeHiddenStacks"}),": Whether to include the items in Hidden Stacks."]}),"\n"]}),"\n",(0,i.jsx)(n.p,{children:"Example:"}),"\n",(0,i.jsx)(n.pre,{children:(0,i.jsx)(n.code,{className:"language-csharp",children:'//For player\r\n  int itemCount = GameManager.GetPlayer().GetInventory().GetItemNumber(5,true);\r\n//For npc\r\n  int itemCount = GameManager.EntityManagerData.GetEntity("Npc_Entity_id").GetInventory().GetItemNumber(5,true);\n'})}),"\n",(0,i.jsx)(n.hr,{}),"\n",(0,i.jsx)(n.h4,{id:"add-items",children:"Add Items:"}),"\n",(0,i.jsx)(n.p,{children:"Add items to an inventory:"}),"\n",(0,i.jsx)(n.pre,{children:(0,i.jsx)(n.code,{className:"language-csharp",children:"//InventoryData class\r\n  public InventoryStack AddItem(Item _item, int _number = 1)\r\n//Returns any items that could not be received (if any).\n"})}),"\n",(0,i.jsxs)(n.ul,{children:["\n",(0,i.jsxs)(n.li,{children:[(0,i.jsx)(n.code,{children:"_item"}),": The item you want to add."]}),"\n",(0,i.jsxs)(n.li,{children:[(0,i.jsx)(n.code,{children:"_number"}),": The quantity of the item to add."]}),"\n"]}),"\n",(0,i.jsx)(n.p,{children:"If you need to create a new item from the database, use:"}),"\n",(0,i.jsx)(n.pre,{children:(0,i.jsx)(n.code,{className:"language-csharp",children:"  Item myNewItem = new Item(uid);\n"})}),"\n",(0,i.jsx)(n.p,{children:"You can modify the item you created as needed (e.g., upgrade level, enchantments), and then add it to the inventory:"}),"\n",(0,i.jsx)(n.pre,{children:(0,i.jsx)(n.code,{className:"language-csharp",children:'  Item myNewItem = new Item(5);\r\n//For player\r\n  GameManager.GetPlayer().GetInventory().AddItem(myNewItem,2);\r\n//For npc\r\n  GameManager.EntityManagerData.GetEntity("Npc_Entity_id").GetInventory().AddItem(myNewItem,2);\n'})}),"\n",(0,i.jsx)(n.hr,{}),"\n",(0,i.jsx)(n.h4,{id:"remove-items",children:"Remove Items:"}),"\n",(0,i.jsx)(n.p,{children:"Remove a specific number of items from the inventory:"}),"\n",(0,i.jsx)(n.pre,{children:(0,i.jsx)(n.code,{className:"language-csharp",children:"//InventoryData class\r\n  public int RemoveItem(int _uid, int _number, int _index = -1);\r\n//Returns the total number of items removed\n"})}),"\n",(0,i.jsxs)(n.ul,{children:["\n",(0,i.jsxs)(n.li,{children:[(0,i.jsx)(n.code,{children:"_uid"}),": The ",(0,i.jsx)(n.strong,{children:"unique ID"})," of the item to remove."]}),"\n",(0,i.jsxs)(n.li,{children:[(0,i.jsx)(n.code,{children:"_number"}),": The quantity of the item to remove. If the number exceeds the quantity available, it will be capped at the actual number."]}),"\n",(0,i.jsxs)(n.li,{children:[(0,i.jsx)(n.code,{children:"_index"}),": (Optional) If specified, removes the item from the slot at this index in the inventory interface. Use -1 to ignore the index."]}),"\n"]}),"\n",(0,i.jsx)(n.p,{children:"Example:"}),"\n",(0,i.jsx)(n.pre,{children:(0,i.jsx)(n.code,{className:"language-csharp",children:'//For player\r\n  GameManager.GetPlayer().GetInventory().RemoveItem(5,2);\r\n//For npc\r\n  GameManager.EntityManagerData.GetEntity("Npc_Entity_id").RemoveItem(5,2);\n'})}),"\n",(0,i.jsx)(n.hr,{}),"\n",(0,i.jsx)(n.h4,{id:"use-an-item",children:"Use an Item:"}),"\n",(0,i.jsx)(n.p,{children:"Use an item from the inventory:"}),"\n",(0,i.jsx)(n.pre,{children:(0,i.jsx)(n.code,{className:"language-csharp",children:"//InventoryData class\r\n  public void UseItem(int _uid, int _number, int _index = -1)\n"})}),"\n",(0,i.jsxs)(n.ul,{children:["\n",(0,i.jsxs)(n.li,{children:[(0,i.jsx)(n.code,{children:"_uid"}),": The unique ID of the item to use."]}),"\n",(0,i.jsxs)(n.li,{children:[(0,i.jsx)(n.code,{children:"_number"}),": The quantity of the item to use. If the number exceeds the available quantity, it will be capped at the actual number."]}),"\n",(0,i.jsxs)(n.li,{children:[(0,i.jsx)(n.code,{children:"_index"}),": (Optional) If specified, uses the item from the slot at this index in the inventory interface. Use -1 to ignore the index."]}),"\n"]}),"\n",(0,i.jsxs)(n.p,{children:["After using an item, the ",(0,i.jsx)(n.a,{href:"/docs/master-inventory-engine/callbacks",children:"ItemUseCallback"})," will be triggered. Refer to the",(0,i.jsx)(n.a,{href:"/docs/master-inventory-engine/callbacks",children:"Callbacks"})," section for more details."]}),"\n",(0,i.jsx)(n.p,{children:"Example:"}),"\n",(0,i.jsx)(n.pre,{children:(0,i.jsx)(n.code,{className:"language-csharp",children:'//For player\r\n  GameManager.GetPlayer().GetInventory().UseItem(5,1);\r\n//For npc\r\n  GameManager.EntityManagerData.GetEntity("Npc_Entity_id").UseItem(5,1);\n'})}),"\n",(0,i.jsx)(n.hr,{}),"\n",(0,i.jsx)(n.h3,{id:"managing-currencies",children:"Managing Currencies:"}),"\n",(0,i.jsx)(n.h4,{id:"retrieve-the-current-amount-of-a-specific-currency",children:"Retrieve the current amount of a specific currency:"}),"\n",(0,i.jsx)(n.pre,{children:(0,i.jsx)(n.code,{className:"language-csharp",children:"//InventoryData class\r\n  public int GetCurrency(int _type, bool _includeExchangedValue = false)\n"})}),"\n",(0,i.jsxs)(n.ul,{children:["\n",(0,i.jsxs)(n.li,{children:[(0,i.jsx)(n.code,{children:"_type"}),": The ",(0,i.jsx)(n.strong,{children:"ID"})," of the currency."]}),"\n",(0,i.jsxs)(n.li,{children:[(0,i.jsx)(n.code,{children:"_includeExchangedValue"}),": Whether you want to get the total amount of this currency including the exchanged value from other currencies."]}),"\n"]}),"\n",(0,i.jsx)(n.p,{children:"Example:"}),"\n",(0,i.jsx)(n.pre,{children:(0,i.jsx)(n.code,{className:"language-csharp",children:'//For player\r\n  int _gold= GameManager.GetPlayer().GetInventory().GetCurrency(1);\r\n//For npc\r\n  int _gold= GameManager.EntityManagerData.GetEntity("Npc_Entity_id").GetCurrency(1);\n'})}),"\n",(0,i.jsx)(n.hr,{}),"\n",(0,i.jsx)(n.h4,{id:"add-or-remove-currency",children:"Add or Remove Currency:"}),"\n",(0,i.jsx)(n.p,{children:"Modify the currency amount (positive to add, negative to remove):"}),"\n",(0,i.jsx)(n.pre,{children:(0,i.jsx)(n.code,{className:"language-csharp",children:"//InventoryData class\r\n  public void AddCurrency(int _type, int _add)\n"})}),"\n",(0,i.jsxs)(n.ul,{children:["\n",(0,i.jsxs)(n.li,{children:[(0,i.jsx)(n.code,{children:"_type"}),": The ID of the currency."]}),"\n",(0,i.jsxs)(n.li,{children:[(0,i.jsx)(n.code,{children:"_add"}),": The amount to change (positive for adding, negative for removing)."]}),"\n"]}),"\n",(0,i.jsx)(n.p,{children:"Example:"}),"\n",(0,i.jsx)(n.pre,{children:(0,i.jsx)(n.code,{className:"language-csharp",children:'//For player\r\n  GameManager.GetPlayer().GetInventory().AddCurrency(int _type, int _add);\r\n//For npc\r\n  GameManager.EntityManagerData.GetEntity("Npc_Entity_id").GetInventory().AddCurrency(int _type, int _add);\n'})}),"\n",(0,i.jsx)(n.hr,{}),"\n",(0,i.jsx)(n.h4,{id:"set-currency-to-a-fixed-value",children:"Set Currency to a Fixed Value:"}),"\n",(0,i.jsx)(n.p,{children:"Directly set the currency to a specific value:"}),"\n",(0,i.jsx)(n.pre,{children:(0,i.jsx)(n.code,{className:"language-csharp",children:"//InventoryData class\r\n  public void SetCurrency(int _type, int _value)\n"})}),"\n",(0,i.jsxs)(n.ul,{children:["\n",(0,i.jsxs)(n.li,{children:[(0,i.jsx)(n.code,{children:"_type"}),": The ",(0,i.jsx)(n.strong,{children:"ID"})," of the currency."]}),"\n",(0,i.jsxs)(n.li,{children:[(0,i.jsx)(n.code,{children:"_value"}),": The value to set for the currency."]}),"\n"]}),"\n",(0,i.jsx)(n.p,{children:"Example:"}),"\n",(0,i.jsx)(n.pre,{children:(0,i.jsx)(n.code,{className:"language-csharp",children:'//For player\r\n  GameManager.GetPlayer().GetInventory().SetCurrency(int _type, int _value);\r\n//For npc\r\n  GameManager.EntityManagerData.GetEntity("Npc_Entity_id").GetInventory().SetCurrency(int _type, int _value);\n'})}),"\n",(0,i.jsx)(n.hr,{})]})}function h(e={}){const{wrapper:n}={...(0,a.R)(),...e.components};return n?(0,i.jsx)(n,{...e,children:(0,i.jsx)(o,{...e})}):o(e)}},8453(e,n,t){t.d(n,{R:()=>s,x:()=>c});var r=t(6540);const i={},a=r.createContext(i);function s(e){const n=r.useContext(a);return r.useMemo(function(){return"function"==typeof e?e(n):{...n,...e}},[n,e])}function c(e){let n;return n=e.disableParentContext?"function"==typeof e.components?e.components(i):e.components||i:s(e.components),r.createElement(a.Provider,{value:n},e.children)}}}]);