"use strict";(globalThis.webpackChunksoft_kitty_docs=globalThis.webpackChunksoft_kitty_docs||[]).push([[9268],{775(e,n,s){s.d(n,{A:()=>t});const t=s.p+"assets/images/20260103-170353-12c2cfa22c6aee5b803e6a190631eb0d.png"},2571(e,n,s){s.r(n),s.d(n,{assets:()=>o,contentTitle:()=>i,default:()=>l,frontMatter:()=>c,metadata:()=>t,toc:()=>h});const t=JSON.parse('{"id":"master-combat-core/graph-system/runtime","title":"Runtime","description":"---","source":"@site/docs/master-combat-core/graph-system/runtime.md","sourceDirName":"master-combat-core/graph-system","slug":"/master-combat-core/graph-system/runtime","permalink":"/Soft-Kitty-Documentation/docs/master-combat-core/graph-system/runtime","draft":false,"unlisted":false,"tags":[],"version":"current","frontMatter":{"title":"Runtime"},"sidebar":"docs","previous":{"title":"GraphObject","permalink":"/Soft-Kitty-Documentation/docs/master-combat-core/graph-system/GraphObject"},"next":{"title":"Dynamic Variables","permalink":"/Soft-Kitty-Documentation/docs/master-combat-core/graph-system/dynamic-variables"}}');var a=s(4848),r=s(8453);const c={title:"Runtime"},i=void 0,o={},h=[{value:"1. Graph Matching &amp; Caching",id:"1-graph-matching--caching",level:4},{value:"2. Runtime Data Injection",id:"2-runtime-data-injection",level:4},{value:"3. Node Execution",id:"3-node-execution",level:4},{value:"4. Action Commands &amp; Effects",id:"4-action-commands--effects",level:4},{value:"5. Results Applied to Gameplay",id:"5-results-applied-to-gameplay",level:4},{value:"Key Takeaways",id:"key-takeaways",level:4}];function d(e){const n={a:"a",h4:"h4",hr:"hr",img:"img",li:"li",p:"p",strong:"strong",ul:"ul",...(0,r.R)(),...e.components};return(0,a.jsxs)(a.Fragment,{children:[(0,a.jsx)(n.p,{children:(0,a.jsx)(n.img,{src:s(775).A+"",width:"2500",height:"2300"})}),"\n",(0,a.jsx)(n.hr,{}),"\n",(0,a.jsxs)(n.p,{children:["The diagram above illustrates how ",(0,a.jsx)(n.a,{href:"/docs/master-combat-core/graph-system/GraphObject",children:"GraphObject"}),"s are executed at runtime using ",(0,a.jsx)(n.a,{href:"/docs/master-combat-core/damage-component/graphinstance",children:"GraphInstance"}),"s."]}),"\n",(0,a.jsxs)(n.p,{children:["At runtime, ",(0,a.jsx)(n.a,{href:"/docs/master-combat-core/graph-system/GraphObject",children:"GraphObject"}),"s themselves are not executed directly. Instead, the system follows this flow:"]}),"\n",(0,a.jsx)(n.hr,{}),"\n",(0,a.jsx)(n.h4,{id:"1-graph-matching--caching",children:"1. Graph Matching & Caching"}),"\n",(0,a.jsxs)(n.p,{children:["All ",(0,a.jsx)(n.a,{href:"/docs/master-combat-core/graph-system/GraphObject",children:"GraphObject"}),"s are stored in a ",(0,a.jsx)(n.strong,{children:"runtime shared static dictionary"}),"."]}),"\n",(0,a.jsxs)(n.p,{children:["When a GraphInstance system (such as ",(0,a.jsx)(n.a,{href:"/docs/master-combat-core/damage-component/combat-damage",children:"CombatDamage"})," or ",(0,a.jsx)(n.a,{href:"/docs/master-combat-core/damage-component/over-time-effect-instance",children:"OverTimeEffectInstance"}),") requests execution:"]}),"\n",(0,a.jsxs)(n.ul,{children:["\n",(0,a.jsxs)(n.li,{children:["The matching ",(0,a.jsx)(n.a,{href:"/docs/master-combat-core/graph-system/GraphObject",children:"GraphObject"})," is located."]}),"\n"]}),"\n",(0,a.jsx)(n.p,{children:"This allows multiple entities and systems to share the same graph definition efficiently."}),"\n",(0,a.jsx)(n.hr,{}),"\n",(0,a.jsx)(n.h4,{id:"2-runtime-data-injection",children:"2. Runtime Data Injection"}),"\n",(0,a.jsxs)(n.p,{children:["Each ",(0,a.jsx)(n.a,{href:"/docs/master-combat-core/damage-component/graphinstance",children:"GraphInstance"})," contains a runtime data array, which contains:"]}),"\n",(0,a.jsxs)(n.ul,{children:["\n",(0,a.jsxs)(n.li,{children:["\n",(0,a.jsxs)(n.p,{children:[(0,a.jsx)(n.a,{href:"/docs/core/entities/Entity",children:"Entity"})," references (Dealer, Target, etc.)"]}),"\n"]}),"\n",(0,a.jsxs)(n.li,{children:["\n",(0,a.jsx)(n.p,{children:(0,a.jsx)(n.a,{href:"/docs/master-combat-core/graph-system/dynamic-variables",children:"Dynamic Variables"})}),"\n"]}),"\n",(0,a.jsxs)(n.li,{children:["\n",(0,a.jsx)(n.p,{children:"Temporary execution data"}),"\n"]}),"\n"]}),"\n",(0,a.jsxs)(n.p,{children:["This data array represents the ",(0,a.jsx)(n.strong,{children:"execution context"})," of the graph."]}),"\n",(0,a.jsx)(n.hr,{}),"\n",(0,a.jsx)(n.h4,{id:"3-node-execution",children:"3. Node Execution"}),"\n",(0,a.jsx)(n.p,{children:"The runtime data flows through the graph nodes:"}),"\n",(0,a.jsxs)(n.ul,{children:["\n",(0,a.jsxs)(n.li,{children:["\n",(0,a.jsxs)(n.p,{children:[(0,a.jsx)(n.a,{href:"/docs/master-combat-core/nodes/condition",children:"Condition Node"}),"s evaluate logic"]}),"\n"]}),"\n",(0,a.jsxs)(n.li,{children:["\n",(0,a.jsxs)(n.p,{children:[(0,a.jsx)(n.a,{href:"/docs/master-combat-core/nodes/variable-math",children:"Math Node"}),"s and ",(0,a.jsx)(n.a,{href:"/docs/master-combat-core/nodes/variable-math",children:"Variable Node"}),"s transform data"]}),"\n"]}),"\n",(0,a.jsxs)(n.li,{children:["\n",(0,a.jsxs)(n.p,{children:[(0,a.jsx)(n.a,{href:"/docs/master-combat-core/nodes/action",children:"Action Node"}),"s generate ",(0,a.jsx)(n.strong,{children:"action commands"})]}),"\n"]}),"\n"]}),"\n",(0,a.jsx)(n.p,{children:"The graph itself remains immutable; only the runtime data changes."}),"\n",(0,a.jsx)(n.hr,{}),"\n",(0,a.jsx)(n.h4,{id:"4-action-commands--effects",children:"4. Action Commands & Effects"}),"\n",(0,a.jsxs)(n.p,{children:[(0,a.jsx)(n.a,{href:"/docs/master-combat-core/nodes/action",children:"Action Node"}),"s emit ",(0,a.jsx)(n.strong,{children:"action commands"}),", which are handled by:"]}),"\n",(0,a.jsxs)(n.ul,{children:["\n",(0,a.jsxs)(n.li,{children:["\n",(0,a.jsx)(n.p,{children:"Behavior systems"}),"\n"]}),"\n",(0,a.jsxs)(n.li,{children:["\n",(0,a.jsx)(n.p,{children:"Database update systems"}),"\n"]}),"\n"]}),"\n",(0,a.jsx)(n.p,{children:"These commands can:"}),"\n",(0,a.jsxs)(n.ul,{children:["\n",(0,a.jsxs)(n.li,{children:["\n",(0,a.jsxs)(n.p,{children:["Modify ",(0,a.jsx)(n.a,{href:"/docs/core/entities/Entity",children:"Entity"})," ",(0,a.jsx)(n.a,{href:"/docs/core/attributes/AttributeData",children:"AttributeData"})]}),"\n"]}),"\n",(0,a.jsxs)(n.li,{children:["\n",(0,a.jsx)(n.p,{children:"Apply behaviors (damage, buffs, effects)"}),"\n"]}),"\n",(0,a.jsxs)(n.li,{children:["\n",(0,a.jsx)(n.p,{children:"Trigger gameplay reactions"}),"\n"]}),"\n"]}),"\n",(0,a.jsx)(n.hr,{}),"\n",(0,a.jsx)(n.h4,{id:"5-results-applied-to-gameplay",children:"5. Results Applied to Gameplay"}),"\n",(0,a.jsx)(n.p,{children:"Finally:"}),"\n",(0,a.jsxs)(n.ul,{children:["\n",(0,a.jsxs)(n.li,{children:["\n",(0,a.jsx)(n.p,{children:"The database is updated"}),"\n"]}),"\n",(0,a.jsxs)(n.li,{children:["\n",(0,a.jsx)(n.p,{children:"Behaviors are executed"}),"\n"]}),"\n",(0,a.jsxs)(n.li,{children:["\n",(0,a.jsx)(n.p,{children:"Entities reflect the results in gameplay and visuals"}),"\n"]}),"\n"]}),"\n",(0,a.jsxs)(n.p,{children:["The ",(0,a.jsx)(n.a,{href:"/docs/master-combat-core/damage-component/graphinstance",children:"GraphInstance"})," then waits for the next execution or is recycled."]}),"\n",(0,a.jsx)(n.hr,{}),"\n",(0,a.jsx)(n.h4,{id:"key-takeaways",children:"Key Takeaways"}),"\n",(0,a.jsxs)(n.ul,{children:["\n",(0,a.jsxs)(n.li,{children:["\n",(0,a.jsxs)(n.p,{children:[(0,a.jsx)(n.a,{href:"/docs/master-combat-core/graph-system/GraphObject",children:"GraphObject"})," = design-time blueprint"]}),"\n"]}),"\n",(0,a.jsxs)(n.li,{children:["\n",(0,a.jsxs)(n.p,{children:[(0,a.jsx)(n.a,{href:"/docs/master-combat-core/damage-component/graphinstance",children:"GraphInstance"})," = runtime executor"]}),"\n"]}),"\n",(0,a.jsxs)(n.li,{children:["\n",(0,a.jsx)(n.p,{children:"Runtime data is isolated per execution"}),"\n"]}),"\n",(0,a.jsxs)(n.li,{children:["\n",(0,a.jsx)(n.p,{children:"Graph logic is reusable, safe, and scalable"}),"\n"]}),"\n"]}),"\n",(0,a.jsx)(n.hr,{})]})}function l(e={}){const{wrapper:n}={...(0,r.R)(),...e.components};return n?(0,a.jsx)(n,{...e,children:(0,a.jsx)(d,{...e})}):d(e)}},8453(e,n,s){s.d(n,{R:()=>c,x:()=>i});var t=s(6540);const a={},r=t.createContext(a);function c(e){const n=t.useContext(r);return t.useMemo(function(){return"function"==typeof e?e(n):{...n,...e}},[n,e])}function i(e){let n;return n=e.disableParentContext?"function"==typeof e.components?e.components(a):e.components||a:c(e.components),t.createElement(r.Provider,{value:n},e.children)}}}]);