"use strict";(globalThis.webpackChunksoft_kitty_docs=globalThis.webpackChunksoft_kitty_docs||[]).push([[6876],{3343(e,t,n){n.r(t),n.d(t,{assets:()=>a,contentTitle:()=>c,default:()=>h,frontMatter:()=>d,metadata:()=>s,toc:()=>o});const s=JSON.parse('{"id":"master-combat-core/getting-started/first-damage-graph","title":"First Damage Graph","description":"This guide walks you through creating your first working damage setup using Master Combat Core.","source":"@site/docs/master-combat-core/getting-started/first-damage-graph.md","sourceDirName":"master-combat-core/getting-started","slug":"/master-combat-core/getting-started/first-damage-graph","permalink":"/Soft-Kitty-Documentation/docs/master-combat-core/getting-started/first-damage-graph","draft":false,"unlisted":false,"tags":[],"version":"current","frontMatter":{"title":"First Damage Graph"},"sidebar":"docs","previous":{"title":"Installation","permalink":"/Soft-Kitty-Documentation/docs/master-combat-core/getting-started/installation"},"next":{"title":"Melee Damage Setup","permalink":"/Soft-Kitty-Documentation/docs/master-combat-core/getting-started/melee-damage"}}');var i=n(4848),r=n(8453);const d={title:"First Damage Graph"},c=void 0,a={},o=[{value:"Foundation",id:"foundation",level:3},{value:"Step 0 \u2014 Setup Attributes",id:"step-0--setup-attributes",level:4},{value:"Step 0.1 \u2014 Setup Entities",id:"step-01--setup-entities",level:4},{value:"Step 1 \u2014 Create a Damage Graph",id:"step-1--create-a-damage-graph",level:3},{value:"Step 2 \u2014 Setup Conditions",id:"step-2--setup-conditions",level:3},{value:"Root Node / Trigger Node / Action Node Relationship",id:"root-node--trigger-node--action-node-relationship",level:4},{value:"Build the Damage Condition",id:"build-the-damage-condition",level:4},{value:"What Does This Condition Mean?",id:"what-does-this-condition-mean",level:4},{value:"Step 3 \u2014 Setup Actions",id:"step-3--setup-actions",level:3},{value:"Step 4 \u2014 Grouping &amp; Documentation",id:"step-4--grouping--documentation",level:3},{value:"How This GraphObject Works in Gameplay?",id:"how-this-graphobject-works-in-gameplay",level:3},{value:"How to Provide Runtime Inputs",id:"how-to-provide-runtime-inputs",level:3},{value:"Summary",id:"summary",level:3}];function l(e){const t={a:"a",code:"code",h3:"h3",h4:"h4",hr:"hr",img:"img",li:"li",ol:"ol",p:"p",pre:"pre",strong:"strong",table:"table",tbody:"tbody",td:"td",th:"th",thead:"thead",tr:"tr",ul:"ul",...(0,r.R)(),...e.components};return(0,i.jsxs)(i.Fragment,{children:[(0,i.jsxs)(t.p,{children:["This guide walks you through creating your first working damage setup using ",(0,i.jsx)(t.strong,{children:"Master Combat Core"}),"."]}),"\n",(0,i.jsx)(t.p,{children:"By the end, you will:"}),"\n",(0,i.jsxs)(t.ul,{children:["\n",(0,i.jsxs)(t.li,{children:["\n",(0,i.jsx)(t.p,{children:"Understand how a damage graph work"}),"\n"]}),"\n",(0,i.jsxs)(t.li,{children:["\n",(0,i.jsxs)(t.p,{children:["Create a simple damage ",(0,i.jsx)(t.a,{href:"/docs/master-combat-core/graph-system/GraphObject",children:"GraphObject"})]}),"\n"]}),"\n"]}),"\n",(0,i.jsx)(t.hr,{}),"\n",(0,i.jsx)(t.h3,{id:"foundation",children:"Foundation"}),"\n",(0,i.jsx)(t.p,{children:"Before building the graph, we need to prepare some data."}),"\n",(0,i.jsx)(t.h4,{id:"step-0--setup-attributes",children:"Step 0 \u2014 Setup Attributes"}),"\n",(0,i.jsxs)(t.p,{children:["Go to:\r\n",(0,i.jsx)(t.code,{children:"Project Settings > SoftKitty > Attributes"}),"\r\nClick ",(0,i.jsx)(t.strong,{children:(0,i.jsx)(t.code,{children:"Add"})})," to create the following ",(0,i.jsx)(t.a,{href:"/docs/core/attributes/Attribute",children:"Attribute"}),"::"]}),"\n",(0,i.jsxs)(t.table,{children:[(0,i.jsx)(t.thead,{children:(0,i.jsxs)(t.tr,{children:[(0,i.jsx)(t.th,{children:"Display Name"}),(0,i.jsx)(t.th,{children:"UID"}),(0,i.jsx)(t.th,{style:{textAlign:"center"},children:"Default Value"})]})}),(0,i.jsxs)(t.tbody,{children:[(0,i.jsxs)(t.tr,{children:[(0,i.jsx)(t.td,{children:(0,i.jsx)(t.code,{children:"Attack"})}),(0,i.jsx)(t.td,{children:(0,i.jsx)(t.code,{children:"atk"})}),(0,i.jsx)(t.td,{style:{textAlign:"center"},children:"5"})]}),(0,i.jsxs)(t.tr,{children:[(0,i.jsx)(t.td,{children:(0,i.jsx)(t.code,{children:"Defense"})}),(0,i.jsx)(t.td,{children:(0,i.jsx)(t.code,{children:"def"})}),(0,i.jsx)(t.td,{style:{textAlign:"center"},children:"5"})]}),(0,i.jsxs)(t.tr,{children:[(0,i.jsx)(t.td,{children:(0,i.jsx)(t.code,{children:"Health"})}),(0,i.jsx)(t.td,{children:(0,i.jsx)(t.code,{children:"hp"})}),(0,i.jsx)(t.td,{style:{textAlign:"center"},children:"5"})]})]})]}),"\n",(0,i.jsx)(t.h4,{id:"step-01--setup-entities",children:"Step 0.1 \u2014 Setup Entities"}),"\n",(0,i.jsxs)(t.p,{children:["Go to:\r\n",(0,i.jsx)(t.code,{children:"Project Settings > SoftKitty > Entity Manager"}),"\r\nClick ",(0,i.jsx)(t.strong,{children:(0,i.jsx)(t.code,{children:"Add New Entity"})})," and create two ",(0,i.jsx)(t.a,{href:"/docs/core/entities/Entity",children:"Entity"}),":"]}),"\n",(0,i.jsxs)(t.table,{children:[(0,i.jsx)(t.thead,{children:(0,i.jsxs)(t.tr,{children:[(0,i.jsx)(t.th,{children:"UID"}),(0,i.jsx)(t.th,{children:"Tags"})]})}),(0,i.jsxs)(t.tbody,{children:[(0,i.jsxs)(t.tr,{children:[(0,i.jsx)(t.td,{children:(0,i.jsx)(t.code,{children:"player"})}),(0,i.jsx)(t.td,{children:(0,i.jsx)(t.code,{children:"friendly"})})]}),(0,i.jsxs)(t.tr,{children:[(0,i.jsx)(t.td,{children:(0,i.jsx)(t.code,{children:"enemy1"})}),(0,i.jsx)(t.td,{children:(0,i.jsx)(t.code,{children:"hostile"})})]})]})]}),"\n",(0,i.jsxs)(t.p,{children:["Then expand ",(0,i.jsx)(t.code,{children:"Batch Management Tools"})," on the top and click ",(0,i.jsx)(t.code,{children:"Batch Fill Attributes"}),"\r\nThis assigns all existing attributes to all entities."]}),"\n",(0,i.jsx)(t.hr,{}),"\n",(0,i.jsx)(t.h3,{id:"step-1--create-a-damage-graph",children:"Step 1 \u2014 Create a Damage Graph"}),"\n",(0,i.jsxs)(t.ol,{children:["\n",(0,i.jsxs)(t.li,{children:["\n",(0,i.jsx)(t.p,{children:"Right-click in the Project window"}),"\n"]}),"\n",(0,i.jsxs)(t.li,{children:["\n",(0,i.jsxs)(t.p,{children:["Create a ",(0,i.jsx)(t.strong,{children:"Damage Graph"})," asset via:\r\n",(0,i.jsx)(t.code,{children:"Create > Soft Kitty > Node Graph Object"})]}),"\n"]}),"\n",(0,i.jsxs)(t.li,{children:["\n",(0,i.jsxs)(t.p,{children:["Double-click the asset to open it in the ",(0,i.jsx)(t.strong,{children:"Graph Editor"})]}),"\n"]}),"\n"]}),"\n",(0,i.jsxs)(t.p,{children:["This graph defines ",(0,i.jsx)(t.strong,{children:"how damage is calculated and applied"}),"."]}),"\n",(0,i.jsx)(t.hr,{}),"\n",(0,i.jsx)(t.h3,{id:"step-2--setup-conditions",children:"Step 2 \u2014 Setup Conditions"}),"\n",(0,i.jsxs)(t.p,{children:["Every damage graph starts with a ",(0,i.jsx)(t.strong,{children:"Root Node"}),"."]}),"\n",(0,i.jsxs)(t.h4,{id:"root-node--trigger-node--action-node-relationship",children:["Root Node / ",(0,i.jsx)(t.a,{href:"/docs/master-combat-core/nodes/trigger",children:"Trigger Node"})," / ",(0,i.jsx)(t.a,{href:"/docs/master-combat-core/nodes/action",children:"Action Node"})," Relationship"]}),"\n",(0,i.jsxs)(t.p,{children:[(0,i.jsx)(t.a,{href:"/docs/master-combat-core/nodes/trigger",children:"Trigger Node"}),"\r\nControls whether the graph is allowed to execute"]}),"\n",(0,i.jsxs)(t.p,{children:[(0,i.jsx)(t.code,{children:"Root Node"}),"\r\nActs as the execution gateway"]}),"\n",(0,i.jsxs)(t.p,{children:[(0,i.jsx)(t.a,{href:"/docs/master-combat-core/nodes/action",children:"Action Node"}),"\r\nPerforms actual gameplay changes (damage, healing, etc.)"]}),"\n",(0,i.jsxs)(t.p,{children:["By default, a ",(0,i.jsx)(t.code,{children:"Root Node"}),", ",(0,i.jsx)(t.a,{href:"/docs/master-combat-core/nodes/trigger",children:"Trigger Node"}),", ",(0,i.jsx)(t.a,{href:"/docs/master-combat-core/nodes/condition",children:"Condition Node"}),", and ",(0,i.jsx)(t.a,{href:"/docs/master-combat-core/nodes/action",children:"Action Node"})," are already created and connected:"]}),"\n",(0,i.jsx)(t.p,{children:(0,i.jsx)(t.img,{src:n(8207).A+"",width:"2310",height:"810"})}),"\n",(0,i.jsx)(t.h4,{id:"build-the-damage-condition",children:"Build the Damage Condition"}),"\n",(0,i.jsxs)(t.ol,{children:["\n",(0,i.jsxs)(t.li,{children:["Create ",(0,i.jsx)(t.a,{href:"/docs/master-combat-core/nodes/variable-math",children:"Variable Node"}),"s"]}),"\n"]}),"\n",(0,i.jsxs)(t.ul,{children:["\n",(0,i.jsxs)(t.li,{children:["Right-click the graph and select:\r\n",(0,i.jsx)(t.code,{children:"Create Node > Variable > Constant"}),"\r\n",(0,i.jsx)(t.img,{src:n(5705).A+"",width:"990",height:"427"}),"\r\nSet the value to ",(0,i.jsx)(t.code,{children:"0.01"})]}),"\n",(0,i.jsxs)(t.li,{children:["Create another ",(0,i.jsx)(t.a,{href:"/docs/master-combat-core/nodes/variable-math",children:"Variable Node"}),":\r\nType: ",(0,i.jsx)(t.code,{children:"Attribute"}),"\r\nAttribute: ",(0,i.jsx)(t.code,{children:"def"})]}),"\n"]}),"\n",(0,i.jsxs)(t.ol,{start:"2",children:["\n",(0,i.jsxs)(t.li,{children:["Create ",(0,i.jsx)(t.a,{href:"/docs/master-combat-core/nodes/variable-math",children:"Math Node"})]}),"\n"]}),"\n",(0,i.jsxs)(t.ul,{children:["\n",(0,i.jsxs)(t.li,{children:["Right-click the graph:\r\n",(0,i.jsx)(t.code,{children:"Create Node > Math > Multiply"})]}),"\n",(0,i.jsxs)(t.li,{children:["Connect:\r\n",(0,i.jsx)(t.code,{children:"0.01 Constant"})," \u2192 ",(0,i.jsx)(t.code,{children:"Multiply"})," A\r\n",(0,i.jsx)(t.code,{children:"Defense Attribute"})," \u2192 ",(0,i.jsx)(t.code,{children:"Multiply"})," B\r\n",(0,i.jsx)(t.img,{src:n(8009).A+"",width:"2087",height:"1126"})]}),"\n"]}),"\n",(0,i.jsxs)(t.ol,{start:"3",children:["\n",(0,i.jsxs)(t.li,{children:["Configure ",(0,i.jsx)(t.a,{href:"/docs/master-combat-core/nodes/condition",children:"Condition Node"})]}),"\n"]}),"\n",(0,i.jsxs)(t.ul,{children:["\n",(0,i.jsxs)(t.li,{children:["Connect the Multiply output into the ",(0,i.jsx)(t.a,{href:"/docs/master-combat-core/nodes/condition",children:"Condition Node"}),"."]}),"\n",(0,i.jsxs)(t.li,{children:["Now create two Entity Nodes:","\n",(0,i.jsxs)(t.ul,{children:["\n",(0,i.jsx)(t.li,{children:(0,i.jsx)(t.code,{children:"Create Node > Entity > Dealer"})}),"\n",(0,i.jsx)(t.li,{children:(0,i.jsx)(t.code,{children:"Create Node > Entity > Target"})}),"\n"]}),"\n"]}),"\n",(0,i.jsxs)(t.li,{children:["Connect:","\n",(0,i.jsxs)(t.ul,{children:["\n",(0,i.jsxs)(t.li,{children:[(0,i.jsx)(t.code,{children:"Dealer"})," \u2192 ",(0,i.jsx)(t.a,{href:"/docs/master-combat-core/nodes/condition",children:"Condition Node"})," (Entity input)"]}),"\n",(0,i.jsxs)(t.li,{children:[(0,i.jsx)(t.code,{children:"Target"})," \u2192 Attribute ",(0,i.jsx)(t.a,{href:"/docs/master-combat-core/nodes/variable-math",children:"Variable Node"})," (Entity input)"]}),"\n"]}),"\n"]}),"\n",(0,i.jsxs)(t.li,{children:["Your graph should now look like this:\r\n",(0,i.jsx)(t.img,{src:n(9640).A+"",width:"2331",height:"929"})]}),"\n"]}),"\n",(0,i.jsx)(t.h4,{id:"what-does-this-condition-mean",children:"What Does This Condition Mean?"}),"\n",(0,i.jsx)(t.p,{children:"This condition evaluates:"}),"\n",(0,i.jsx)(t.pre,{children:(0,i.jsx)(t.code,{children:"Is the attacker\u2019s `Attack` greater than the target\u2019s `Defense` \xd7 0.01?\n"})}),"\n",(0,i.jsx)(t.p,{children:"If the condition is True, the Root Node will execute all connected Action Nodes."}),"\n",(0,i.jsx)(t.hr,{}),"\n",(0,i.jsx)(t.h3,{id:"step-3--setup-actions",children:"Step 3 \u2014 Setup Actions"}),"\n",(0,i.jsx)(t.p,{children:"Now let\u2019s calculate and apply damage."}),"\n",(0,i.jsx)(t.p,{children:"We will:"}),"\n",(0,i.jsxs)(t.ul,{children:["\n",(0,i.jsx)(t.li,{children:"Subtract Defense \xd7 0.01 from the attacker\u2019s Attack"}),"\n",(0,i.jsx)(t.li,{children:"Apply the result as damage to the target\u2019s Health"}),"\n"]}),"\n",(0,i.jsx)(t.p,{children:"The final graph should look like this:"}),"\n",(0,i.jsx)(t.p,{children:(0,i.jsx)(t.img,{src:n(3975).A+"",width:"3408",height:"1191"})}),"\n",(0,i.jsx)(t.p,{children:"At runtime:"}),"\n",(0,i.jsxs)(t.ul,{children:["\n",(0,i.jsx)(t.li,{children:"Damage is calculated"}),"\n",(0,i.jsx)(t.li,{children:"The target\u2019s Health is reduced accordingly"}),"\n"]}),"\n",(0,i.jsx)(t.hr,{}),"\n",(0,i.jsx)(t.h3,{id:"step-4--grouping--documentation",children:"Step 4 \u2014 Grouping & Documentation"}),"\n",(0,i.jsx)(t.p,{children:"To improve readability:"}),"\n",(0,i.jsxs)(t.ul,{children:["\n",(0,i.jsxs)(t.li,{children:["Select the nodes related to ",(0,i.jsx)(t.code,{children:"Defense calculation"})]}),"\n",(0,i.jsxs)(t.li,{children:["Right-click \u2192 ",(0,i.jsx)(t.strong,{children:"Group"})]}),"\n",(0,i.jsxs)(t.li,{children:["Rename the group to ",(0,i.jsx)(t.code,{children:"Defense"})]}),"\n"]}),"\n",(0,i.jsx)(t.p,{children:"Then:"}),"\n",(0,i.jsxs)(t.ul,{children:["\n",(0,i.jsx)(t.li,{children:"Right-click an empty area"}),"\n",(0,i.jsxs)(t.li,{children:["Select ",(0,i.jsx)(t.strong,{children:"Create Sticky Note"})]}),"\n",(0,i.jsxs)(t.li,{children:["Right-click the note \u2192 ",(0,i.jsx)(t.strong,{children:"Set as Graph Summary"})]}),"\n"]}),"\n",(0,i.jsxs)(t.p,{children:["Write a short description.\r\nThis summary will be visible in the ",(0,i.jsx)(t.strong,{children:"Inspector"}),", even outside the graph editor."]}),"\n",(0,i.jsx)(t.hr,{}),"\n",(0,i.jsxs)(t.h3,{id:"how-this-graphobject-works-in-gameplay",children:["How This ",(0,i.jsx)(t.a,{href:"/docs/master-combat-core/graph-system/GraphObject",children:"GraphObject"})," Works in Gameplay?"]}),"\n",(0,i.jsxs)(t.p,{children:["This Damage ",(0,i.jsx)(t.a,{href:"/docs/master-combat-core/graph-system/GraphObject",children:"GraphObject"})," can be used by:"]}),"\n",(0,i.jsxs)(t.ul,{children:["\n",(0,i.jsxs)(t.li,{children:[(0,i.jsx)(t.a,{href:"/docs/master-combat-core/damage-component/combat-damage",children:"CombatDamage"})," component"]}),"\n",(0,i.jsx)(t.li,{children:(0,i.jsx)(t.a,{href:"/docs/core/over-time-effects/OverTimeEffect",children:"OverTimeEffect"})}),"\n",(0,i.jsxs)(t.li,{children:["A custom system inheriting from ",(0,i.jsx)(t.a,{href:"/docs/master-combat-core/damage-component/graphinstance",children:"GraphInstance"})]}),"\n"]}),"\n",(0,i.jsx)(t.p,{children:"Regardless of how it\u2019s used, two runtime inputs are required:"}),"\n",(0,i.jsxs)(t.ul,{children:["\n",(0,i.jsx)(t.li,{children:"Dealer \u2014 The entity dealing damage"}),"\n",(0,i.jsx)(t.li,{children:"Target \u2014 The entity receiving damage"}),"\n"]}),"\n",(0,i.jsx)(t.hr,{}),"\n",(0,i.jsx)(t.h3,{id:"how-to-provide-runtime-inputs",children:"How to Provide Runtime Inputs"}),"\n",(0,i.jsx)(t.p,{children:"You can:"}),"\n",(0,i.jsxs)(t.ul,{children:["\n",(0,i.jsxs)(t.li,{children:["Assign them directly in the ",(0,i.jsx)(t.a,{href:"/docs/master-combat-core/damage-component/combat-damage",children:"CombatDamage"})," ",(0,i.jsx)(t.strong,{children:"Inspector"})]}),"\n",(0,i.jsxs)(t.li,{children:["Let ",(0,i.jsx)(t.a,{href:"/docs/master-combat-core/damage-component/combat-damage",children:"CombatDamage"})," ",(0,i.jsx)(t.strong,{children:"Physics Detection"})," auto-assign targets"]}),"\n",(0,i.jsxs)(t.li,{children:["Use ",(0,i.jsx)(t.a,{href:"/docs/core/over-time-effects/OverTimeEffect",children:"OverTimeEffect"}),", which handles both automatically"]}),"\n",(0,i.jsx)(t.li,{children:"Set them manually at runtime via code:"}),"\n"]}),"\n",(0,i.jsx)(t.pre,{children:(0,i.jsx)(t.code,{className:"language-csharp",children:"combatDamage.SetDealerEntity(attackerEntity);\r\ncombatDamage.SetTargetEntity(victimEntity);\n"})}),"\n",(0,i.jsx)(t.hr,{}),"\n",(0,i.jsx)(t.h3,{id:"summary",children:"Summary"}),"\n",(0,i.jsx)(t.p,{children:"You have now:"}),"\n",(0,i.jsxs)(t.ul,{children:["\n",(0,i.jsx)(t.li,{children:"Created a complete damage graph"}),"\n",(0,i.jsx)(t.li,{children:"Defined clear conditions"}),"\n",(0,i.jsx)(t.li,{children:"Calculated and applied damage"}),"\n",(0,i.jsx)(t.li,{children:"Prepared it for real gameplay usage"}),"\n"]}),"\n",(0,i.jsxs)(t.p,{children:["This same workflow applies to ",(0,i.jsx)(t.strong,{children:"healing"}),", ",(0,i.jsx)(t.strong,{children:"buffs"}),", ",(0,i.jsx)(t.strong,{children:"debuffs"}),", and ",(0,i.jsx)(t.strong,{children:"custom combat logic"}),"."]}),"\n",(0,i.jsx)(t.hr,{})]})}function h(e={}){const{wrapper:t}={...(0,r.R)(),...e.components};return t?(0,i.jsx)(t,{...e,children:(0,i.jsx)(l,{...e})}):l(e)}},3975(e,t,n){n.d(t,{A:()=>s});const s=n.p+"assets/images/20260152-095238-1dc06ba01c6fb772f4c433e4ba343e97.png"},5705(e,t,n){n.d(t,{A:()=>s});const s=n.p+"assets/images/20260159-085939-34964dd5a368c95e192bd0ced767bb34.png"},8009(e,t,n){n.d(t,{A:()=>s});const s=n.p+"assets/images/20260137-093709-7454227557096c4cc279002bdd283da7.png"},8207(e,t,n){n.d(t,{A:()=>s});const s=n.p+"assets/images/20260139-193913-f7ec526f3caf57306318d397718d0d8f.png"},8453(e,t,n){n.d(t,{R:()=>d,x:()=>c});var s=n(6540);const i={},r=s.createContext(i);function d(e){const t=s.useContext(r);return s.useMemo(function(){return"function"==typeof e?e(t):{...t,...e}},[t,e])}function c(e){let t;return t=e.disableParentContext?"function"==typeof e.components?e.components(i):e.components||i:d(e.components),s.createElement(r.Provider,{value:t},e.children)}},9640(e,t,n){n.d(t,{A:()=>s});const s=n.p+"assets/images/20260141-094120-b6e60709e5b1d71286ca4b567a93c4b5.png"}}]);