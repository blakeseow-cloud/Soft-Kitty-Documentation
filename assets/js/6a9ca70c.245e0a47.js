"use strict";(globalThis.webpackChunksoft_kitty_docs=globalThis.webpackChunksoft_kitty_docs||[]).push([[3391],{4127(n,e,i){i.d(e,{A:()=>s});const s=i.p+"assets/images/20260230-173012-3eb63cfcf9a9d544973e4862149804fe.png"},6251(n,e,i){i.r(e),i.d(e,{assets:()=>l,contentTitle:()=>r,default:()=>h,frontMatter:()=>c,metadata:()=>s,toc:()=>a});const s=JSON.parse('{"id":"master-inventory-engine/item-class/loot-pack","title":"Loot Pack","description":"LootPack is a runtime loot container system responsible for generating randomized items and currency rewards.","source":"@site/docs/master-inventory-engine/item-class/loot-pack.md","sourceDirName":"master-inventory-engine/item-class","slug":"/master-inventory-engine/item-class/loot-pack","permalink":"/docs/master-inventory-engine/item-class/loot-pack","draft":false,"unlisted":false,"tags":[],"version":"current","frontMatter":{"title":"Loot Pack"},"sidebar":"docs","previous":{"title":"Working With [Master Character Creator]","permalink":"/docs/master-inventory-engine/expansions/master-character-creator"},"next":{"title":"Useful Modules","permalink":"/docs/master-inventory-engine/useful-modules"}}');var t=i(4848),o=i(8453);const c={title:"Loot Pack"},r=void 0,l={},a=[{value:"A LootPack:",id:"a-lootpack",level:4},{value:"Create LootPack",id:"create-lootpack",level:3},{value:"Basic",id:"basic",level:4},{value:"Item Pool",id:"item-pool",level:4},{value:"Enhancement",id:"enhancement",level:4},{value:"<code>ItemObject.instance.EnhancingSuccessCurve</code>",id:"itemobjectinstanceenhancingsuccesscurve",level:4},{value:"Enchantments",id:"enchantments",level:4},{value:"Currency",id:"currency",level:4},{value:"Behavior",id:"behavior",level:4},{value:"Assign LootPack to Entity",id:"assign-lootpack-to-entity",level:3},{value:"Drop LootPack",id:"drop-lootpack",level:3},{value:"Open LootPack",id:"open-lootpack",level:3},{value:"Methods (LootPack.cs)",id:"methods-lootpackcs",level:3},{value:"<code>public void Init(LootPackData _data)</code>",id:"public-void-initlootpackdata-_data",level:4},{value:"<code>public void OpenPack()</code>",id:"public-void-openpack",level:4},{value:"<code>public void DestroyPack()</code>",id:"public-void-destroypack",level:4}];function d(n){const e={a:"a",code:"code",h3:"h3",h4:"h4",hr:"hr",img:"img",li:"li",ol:"ol",p:"p",pre:"pre",strong:"strong",ul:"ul",...(0,o.R)(),...n.components};return(0,t.jsxs)(t.Fragment,{children:[(0,t.jsx)(e.pre,{children:(0,t.jsx)(e.code,{className:"language-csharp",children:"class SoftKitty.InventoryEngine.LootPack : MonoBehaviour\r\nclass SoftKitty.InventoryEngine.LootPackData\n"})}),"\n",(0,t.jsxs)(e.p,{children:[(0,t.jsx)(e.code,{children:"LootPack"})," is a runtime loot container system responsible for generating randomized items and currency rewards."]}),"\n",(0,t.jsxs)(e.p,{children:[(0,t.jsx)(e.code,{children:"LootPackData"})," stores the configuration.\r\nLootPack is the runtime MonoBehaviour instance created when a pack is spawned."]}),"\n",(0,t.jsx)(e.p,{children:(0,t.jsx)(e.img,{src:i(4127).A+"",width:"643",height:"631"})}),"\n",(0,t.jsx)(e.h4,{id:"a-lootpack",children:"A LootPack:"}),"\n",(0,t.jsxs)(e.ul,{children:["\n",(0,t.jsxs)(e.li,{children:["\n",(0,t.jsx)(e.p,{children:"Generates random items based on item drop rates"}),"\n"]}),"\n",(0,t.jsxs)(e.li,{children:["\n",(0,t.jsx)(e.p,{children:"Applies DropChanceMultiplier"}),"\n"]}),"\n",(0,t.jsxs)(e.li,{children:["\n",(0,t.jsx)(e.p,{children:"Supports random enhancement levels"}),"\n"]}),"\n",(0,t.jsxs)(e.li,{children:["\n",(0,t.jsx)(e.p,{children:"Supports random enchantments"}),"\n"]}),"\n",(0,t.jsxs)(e.li,{children:["\n",(0,t.jsx)(e.p,{children:"Generates currency rewards"}),"\n"]}),"\n",(0,t.jsxs)(e.li,{children:["\n",(0,t.jsx)(e.p,{children:"Optionally destroys itself when the loot window is closed"}),"\n"]}),"\n"]}),"\n",(0,t.jsx)(e.hr,{}),"\n",(0,t.jsx)(e.h3,{id:"create-lootpack",children:"Create LootPack"}),"\n",(0,t.jsx)(e.p,{children:"Navigate to:"}),"\n",(0,t.jsx)(e.p,{children:(0,t.jsx)(e.code,{children:"Project Settings \u2192 SoftKitty \u2192 SubData - Items \u2192 Loot Pack Settings"})}),"\n",(0,t.jsx)(e.h4,{id:"basic",children:"Basic"}),"\n",(0,t.jsxs)(e.ul,{children:["\n",(0,t.jsxs)(e.li,{children:["\n",(0,t.jsxs)(e.p,{children:[(0,t.jsx)(e.code,{children:"UID"})," \u2013 unique identifier"]}),"\n"]}),"\n",(0,t.jsxs)(e.li,{children:["\n",(0,t.jsxs)(e.p,{children:[(0,t.jsx)(e.code,{children:"VFX"})," \u2013 optional prefab instantiated as child when spawned"]}),"\n"]}),"\n"]}),"\n",(0,t.jsx)(e.h4,{id:"item-pool",children:"Item Pool"}),"\n",(0,t.jsxs)(e.ul,{children:["\n",(0,t.jsxs)(e.li,{children:["\n",(0,t.jsx)(e.p,{children:"List of item IDs"}),"\n"]}),"\n",(0,t.jsxs)(e.li,{children:["\n",(0,t.jsxs)(e.p,{children:[(0,t.jsx)(e.code,{children:"MaxiumItemCount"})," \u2013 total number of items dropped"]}),"\n"]}),"\n",(0,t.jsxs)(e.li,{children:["\n",(0,t.jsxs)(e.p,{children:[(0,t.jsx)(e.code,{children:"MaxiumCountEachItem"})," \u2013 stack limit per item"]}),"\n"]}),"\n",(0,t.jsxs)(e.li,{children:["\n",(0,t.jsxs)(e.p,{children:[(0,t.jsx)(e.code,{children:"DropChanceMultiplier"})," \u2013 global drop rate multiplier"]}),"\n"]}),"\n"]}),"\n",(0,t.jsx)(e.h4,{id:"enhancement",children:"Enhancement"}),"\n",(0,t.jsxs)(e.ul,{children:["\n",(0,t.jsxs)(e.li,{children:["\n",(0,t.jsxs)(e.p,{children:[(0,t.jsx)(e.code,{children:"RandomLevel"})," \u2013 enable random upgrade level"]}),"\n"]}),"\n",(0,t.jsxs)(e.li,{children:["\n",(0,t.jsxs)(e.p,{children:[(0,t.jsx)(e.code,{children:"MaxiumEnhancingLevel"})," \u2013 cap for generated level"]}),"\n"]}),"\n"]}),"\n",(0,t.jsx)(e.p,{children:"Enhancement success chance is evaluated using:"}),"\n",(0,t.jsx)(e.h4,{id:"itemobjectinstanceenhancingsuccesscurve",children:(0,t.jsx)(e.code,{children:"ItemObject.instance.EnhancingSuccessCurve"})}),"\n",(0,t.jsx)(e.h4,{id:"enchantments",children:"Enchantments"}),"\n",(0,t.jsxs)(e.ul,{children:["\n",(0,t.jsxs)(e.li,{children:["\n",(0,t.jsxs)(e.p,{children:[(0,t.jsx)(e.code,{children:"RandomEnchantment"})," \u2013 enable random enchantment system"]}),"\n"]}),"\n",(0,t.jsxs)(e.li,{children:["\n",(0,t.jsxs)(e.p,{children:[(0,t.jsx)(e.code,{children:"EnchantmentPool"})," \u2013 optional whitelist"]}),"\n"]}),"\n"]}),"\n",(0,t.jsx)(e.p,{children:"Enchantments only apply if:"}),"\n",(0,t.jsxs)(e.ul,{children:["\n",(0,t.jsxs)(e.li,{children:["\n",(0,t.jsxs)(e.p,{children:["Item type matches ",(0,t.jsx)(e.code,{children:"EnchantingCategoryID"})]}),"\n"]}),"\n",(0,t.jsxs)(e.li,{children:["\n",(0,t.jsx)(e.p,{children:"Enchanting is enabled"}),"\n"]}),"\n",(0,t.jsxs)(e.li,{children:["\n",(0,t.jsx)(e.p,{children:"Success roll passes"}),"\n"]}),"\n"]}),"\n",(0,t.jsx)(e.h4,{id:"currency",children:"Currency"}),"\n",(0,t.jsxs)(e.ul,{children:["\n",(0,t.jsxs)(e.li,{children:[(0,t.jsx)(e.code,{children:"CurrencyMin"})," / ",(0,t.jsx)(e.code,{children:"CurrencyMax"})," define reward ranges per currency index"]}),"\n"]}),"\n",(0,t.jsx)(e.h4,{id:"behavior",children:"Behavior"}),"\n",(0,t.jsxs)(e.ul,{children:["\n",(0,t.jsx)(e.li,{children:(0,t.jsx)(e.code,{children:"DestoryWhenPlayerCloseLootWindow"})}),"\n"]}),"\n",(0,t.jsx)(e.p,{children:"When enabled, the LootPack auto-destroys after the loot UI closes."}),"\n",(0,t.jsx)(e.hr,{}),"\n",(0,t.jsxs)(e.h3,{id:"assign-lootpack-to-entity",children:["Assign LootPack to ",(0,t.jsx)(e.a,{href:"/docs/core/entities/Entity",children:"Entity"})]}),"\n",(0,t.jsx)(e.p,{children:"Go to:"}),"\n",(0,t.jsx)(e.p,{children:(0,t.jsx)(e.code,{children:"Project Settings \u2192 SoftKitty \u2192 Entity Manager"})}),"\n",(0,t.jsxs)(e.ol,{children:["\n",(0,t.jsxs)(e.li,{children:["\n",(0,t.jsxs)(e.p,{children:["Select ",(0,t.jsx)(e.a,{href:"/docs/core/entities/Entity",children:"Entity"})]}),"\n"]}),"\n",(0,t.jsxs)(e.li,{children:["\n",(0,t.jsx)(e.p,{children:"Expand Loot Packs"}),"\n"]}),"\n",(0,t.jsxs)(e.li,{children:["\n",(0,t.jsx)(e.p,{children:"Add desired LootPack UID"}),"\n"]}),"\n"]}),"\n",(0,t.jsx)(e.p,{children:"When the entity drops loot, it initializes a LootPack using its configuration."}),"\n",(0,t.jsx)(e.hr,{}),"\n",(0,t.jsx)(e.h3,{id:"drop-lootpack",children:"Drop LootPack"}),"\n",(0,t.jsxs)(e.ul,{children:["\n",(0,t.jsx)(e.li,{children:(0,t.jsx)(e.strong,{children:"Directly Drop"})}),"\n"]}),"\n",(0,t.jsx)(e.p,{children:"This will:"}),"\n",(0,t.jsxs)(e.ul,{children:["\n",(0,t.jsxs)(e.li,{children:["\n",(0,t.jsx)(e.p,{children:"Instantiate a LootPack GameObject"}),"\n"]}),"\n",(0,t.jsxs)(e.li,{children:["\n",(0,t.jsx)(e.p,{children:"Call Init(LootPackData)"}),"\n"]}),"\n",(0,t.jsxs)(e.li,{children:["\n",(0,t.jsx)(e.p,{children:"Generate rewards immediately"}),"\n"]}),"\n",(0,t.jsxs)(e.li,{children:["\n",(0,t.jsx)(e.p,{children:"Instantiate VFX (if assigned)"}),"\n"]}),"\n"]}),"\n",(0,t.jsx)(e.pre,{children:(0,t.jsx)(e.code,{className:"language-csharp",children:'var _loot = GameManager.DropLootPack(Vector3.zero, "TestLootPack01");//Drop a loot pack from loot packs list via its UID.\n'})}),"\n",(0,t.jsxs)(e.ul,{children:["\n",(0,t.jsxs)(e.li,{children:[(0,t.jsx)(e.strong,{children:"Drop from"})," ",(0,t.jsx)(e.a,{href:"/docs/core/entities/Entity",children:"Entity"})]}),"\n"]}),"\n",(0,t.jsx)(e.p,{children:"This uses the LootPack assigned to that entity."}),"\n",(0,t.jsx)(e.pre,{children:(0,t.jsx)(e.code,{className:"language-csharp",children:'var _loot = GameManager.GetEntity("Monster01").DropLootPack(); //Drop a random loot pack from an entity.\r\nvar _loot = GameManager.GetEntity("Monster01").DropLootPack(1); //Drop a specified loot pack with its index number from an entity.\r\n//or\r\nvar _loot = GameManager.GetEntityInstance("Monster01").DropLootPack(); //Drop a loot pack from an entity instance.\r\nvar _loot = GameManager.GetEntityInstance("Monster01").DropLootPack(2); //Drop a specified loot pack with its index number from an entity instance.\r\n\n'})}),"\n",(0,t.jsx)(e.hr,{}),"\n",(0,t.jsx)(e.h3,{id:"open-lootpack",children:"Open LootPack"}),"\n",(0,t.jsx)(e.p,{children:"OpenPack:"}),"\n",(0,t.jsxs)(e.ul,{children:["\n",(0,t.jsxs)(e.li,{children:["\n",(0,t.jsx)(e.p,{children:"Opens Loot UI using LootUi.ShowLoot(mHolder)"}),"\n"]}),"\n",(0,t.jsxs)(e.li,{children:["\n",(0,t.jsx)(e.p,{children:"Displays generated rewards"}),"\n"]}),"\n",(0,t.jsxs)(e.li,{children:["\n",(0,t.jsx)(e.p,{children:"Tracks window state"}),"\n"]}),"\n"]}),"\n",(0,t.jsx)(e.pre,{children:(0,t.jsx)(e.code,{className:"language-csharp",children:'var _loot = GameManager.DropLootPack(Vector3.zero, "TestLootPack01");//Drop a loot pack from loot packs list.\r\n//or\r\nvar _loot = GameManager.GetEntity("Monster01").DropLootPack(); //Drop a loot pack from an entity.\r\n//or\r\nvar _loot = GameManager.GetEntityInstance("Monster01").DropLootPack(); //Drop a loot pack from an entity instance.\r\n\r\n_loot.OpenPack();//Open the loot pack;\n'})}),"\n",(0,t.jsx)(e.hr,{}),"\n",(0,t.jsx)(e.h3,{id:"methods-lootpackcs",children:"Methods (LootPack.cs)"}),"\n",(0,t.jsx)(e.h4,{id:"public-void-initlootpackdata-_data",children:(0,t.jsx)(e.code,{children:"public void Init(LootPackData _data)"})}),"\n",(0,t.jsx)(e.p,{children:"Initializes the LootPack instance with LootPackData."}),"\n",(0,t.jsx)(e.hr,{}),"\n",(0,t.jsx)(e.h4,{id:"public-void-openpack",children:(0,t.jsx)(e.code,{children:"public void OpenPack()"})}),"\n",(0,t.jsx)(e.p,{children:"Opens the Loot UI."}),"\n",(0,t.jsx)(e.hr,{}),"\n",(0,t.jsx)(e.h4,{id:"public-void-destroypack",children:(0,t.jsx)(e.code,{children:"public void DestroyPack()"})}),"\n",(0,t.jsx)(e.p,{children:"Destroys the LootPack GameObject."}),"\n",(0,t.jsx)(e.p,{children:"Called when:"}),"\n",(0,t.jsxs)(e.ul,{children:["\n",(0,t.jsxs)(e.li,{children:["\n",(0,t.jsx)(e.p,{children:"Loot UI closes (if enabled)"}),"\n"]}),"\n",(0,t.jsxs)(e.li,{children:["\n",(0,t.jsx)(e.p,{children:"Manually invoked"}),"\n"]}),"\n"]}),"\n",(0,t.jsx)(e.hr,{})]})}function h(n={}){const{wrapper:e}={...(0,o.R)(),...n.components};return e?(0,t.jsx)(e,{...n,children:(0,t.jsx)(d,{...n})}):d(n)}},8453(n,e,i){i.d(e,{R:()=>c,x:()=>r});var s=i(6540);const t={},o=s.createContext(t);function c(n){const e=s.useContext(o);return s.useMemo(function(){return"function"==typeof n?n(e):{...e,...n}},[e,n])}function r(n){let e;return e=n.disableParentContext?"function"==typeof n.components?n.components(t):n.components||t:c(n.components),s.createElement(o.Provider,{value:e},n.children)}}}]);