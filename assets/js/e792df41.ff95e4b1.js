"use strict";(globalThis.webpackChunksoft_kitty_docs=globalThis.webpackChunksoft_kitty_docs||[]).push([[9601],{1762(e,n,t){t.r(n),t.d(n,{assets:()=>o,contentTitle:()=>c,default:()=>h,frontMatter:()=>a,metadata:()=>r,toc:()=>l});const r=JSON.parse('{"id":"master-combat-core/getting-started/melee-damage","title":"Melee Damage Setup","description":"This section shows how to apply your Damage [GraphObject] to a melee weapon using [CombatDamage] and physics detection.","source":"@site/docs/master-combat-core/getting-started/melee-damage.md","sourceDirName":"master-combat-core/getting-started","slug":"/master-combat-core/getting-started/melee-damage","permalink":"/docs/master-combat-core/getting-started/melee-damage","draft":false,"unlisted":false,"tags":[],"version":"current","frontMatter":{"title":"Melee Damage Setup"},"sidebar":"docs","previous":{"title":"First Damage Graph","permalink":"/docs/master-combat-core/getting-started/first-damage-graph"},"next":{"title":"Projectile","permalink":"/docs/master-combat-core/getting-started/projectile"}}');var s=t(4848),i=t(8453);const a={title:"Melee Damage Setup"},c=void 0,o={},l=[{value:"Prerequisites",id:"prerequisites",level:3},{value:"Step-by-Step Setup",id:"step-by-step-setup",level:3},{value:"Player Setup",id:"player-setup",level:4},{value:"Enemy Setup",id:"enemy-setup",level:4},{value:"Test the Damage",id:"test-the-damage",level:4},{value:"Trigger Damage via Animation (Recommended)",id:"trigger-damage-via-animation-recommended",level:3}];function d(e){const n={a:"a",code:"code",h3:"h3",h4:"h4",hr:"hr",li:"li",ol:"ol",p:"p",pre:"pre",strong:"strong",ul:"ul",...(0,i.R)(),...e.components};return(0,s.jsxs)(s.Fragment,{children:[(0,s.jsxs)(n.p,{children:["This section shows how to apply your Damage ",(0,s.jsx)(n.a,{href:"/docs/master-combat-core/graph-system/GraphObject",children:"GraphObject"})," to a melee weapon using ",(0,s.jsx)(n.a,{href:"/docs/master-combat-core/damage-component/combat-damage",children:"CombatDamage"})," and ",(0,s.jsx)(n.strong,{children:"physics detection"}),"."]}),"\n",(0,s.jsx)(n.h3,{id:"prerequisites",children:"Prerequisites"}),"\n",(0,s.jsx)(n.p,{children:"Before starting, make sure:"}),"\n",(0,s.jsxs)(n.ul,{children:["\n",(0,s.jsx)(n.li,{children:"You already have a player character and a enemy character, a controller script, and an attack animation"}),"\n",(0,s.jsxs)(n.li,{children:["You have created a ",(0,s.jsx)(n.strong,{children:"Damage Graph"})," ",(0,s.jsx)(n.a,{href:"/docs/master-combat-core/graph-system/GraphObject",children:"GraphObject"})," (from the previous guide)"]}),"\n"]}),"\n",(0,s.jsx)(n.hr,{}),"\n",(0,s.jsx)(n.h3,{id:"step-by-step-setup",children:"Step-by-Step Setup"}),"\n",(0,s.jsx)(n.h4,{id:"player-setup",children:"Player Setup"}),"\n",(0,s.jsxs)(n.ol,{children:["\n",(0,s.jsxs)(n.li,{children:["\n",(0,s.jsxs)(n.p,{children:["Add an ",(0,s.jsx)(n.a,{href:"/docs/core/entities/EntityComponent",children:"EntityComponent"})," to the root GameObject of your player."]}),"\n",(0,s.jsxs)(n.ul,{children:["\n",(0,s.jsxs)(n.li,{children:["Select player from the ",(0,s.jsx)(n.strong,{children:(0,s.jsx)(n.code,{children:"Entity UID"})})," dropdown"]}),"\n",(0,s.jsxs)(n.li,{children:["Make sure ",(0,s.jsx)(n.strong,{children:(0,s.jsx)(n.code,{children:"Available for Interaction"})})," is checked"]}),"\n"]}),"\n"]}),"\n",(0,s.jsxs)(n.li,{children:["\n",(0,s.jsxs)(n.p,{children:["Add a ",(0,s.jsx)(n.a,{href:"/docs/master-combat-core/damage-component/combat-damage",children:"CombatDamage"})," component to the player\u2019s weapon GameObject."]}),"\n"]}),"\n",(0,s.jsxs)(n.li,{children:["\n",(0,s.jsxs)(n.p,{children:["Drag the ",(0,s.jsx)(n.a,{href:"/docs/master-combat-core/graph-system/GraphObject",children:"GraphObject"})," you created into the ",(0,s.jsx)(n.strong,{children:(0,s.jsx)(n.code,{children:"Graph"})})," field of the ",(0,s.jsx)(n.a,{href:"/docs/master-combat-core/damage-component/combat-damage",children:"CombatDamage"})," component."]}),"\n"]}),"\n",(0,s.jsxs)(n.li,{children:["\n",(0,s.jsxs)(n.p,{children:["Drag the player\u2019s ",(0,s.jsx)(n.a,{href:"/docs/core/entities/EntityComponent",children:"EntityComponent"})," into the ",(0,s.jsx)(n.strong,{children:(0,s.jsx)(n.code,{children:"Dealer Entity"})})," slot under ",(0,s.jsx)(n.strong,{children:(0,s.jsx)(n.code,{children:"Optional References"})})," section."]}),"\n"]}),"\n",(0,s.jsxs)(n.li,{children:["\n",(0,s.jsxs)(n.p,{children:["Enable ",(0,s.jsx)(n.strong,{children:(0,s.jsx)(n.code,{children:"Enable Physics Detection"})})," under the ",(0,s.jsx)(n.strong,{children:(0,s.jsx)(n.code,{children:"Physics Detection"})})," section."]}),"\n"]}),"\n",(0,s.jsxs)(n.li,{children:["\n",(0,s.jsxs)(n.p,{children:["Set ",(0,s.jsx)(n.strong,{children:(0,s.jsx)(n.code,{children:"Detection Mode"})})," to ",(0,s.jsx)(n.strong,{children:(0,s.jsx)(n.code,{children:"Trigger Collider"})}),"."]}),"\n",(0,s.jsxs)(n.ul,{children:["\n",(0,s.jsxs)(n.li,{children:["Click all red ",(0,s.jsx)(n.strong,{children:(0,s.jsx)(n.code,{children:"Auto Fix"})})," buttons if any are shown."]}),"\n"]}),"\n"]}),"\n",(0,s.jsxs)(n.li,{children:["\n",(0,s.jsxs)(n.p,{children:["In the ",(0,s.jsx)(n.strong,{children:(0,s.jsx)(n.code,{children:"LayerMask"})})," field, select the layer used by your enemy prefab."]}),"\n"]}),"\n",(0,s.jsxs)(n.li,{children:["\n",(0,s.jsxs)(n.p,{children:["In the ",(0,s.jsx)(n.strong,{children:(0,s.jsx)(n.code,{children:"Tag Filter"})})," section, add a new tag:"]}),"\n",(0,s.jsxs)(n.ul,{children:["\n",(0,s.jsx)(n.li,{children:(0,s.jsx)(n.code,{children:"hostile"})}),"\n"]}),"\n"]}),"\n"]}),"\n",(0,s.jsx)(n.hr,{}),"\n",(0,s.jsx)(n.h4,{id:"enemy-setup",children:"Enemy Setup"}),"\n",(0,s.jsxs)(n.ol,{start:"9",children:["\n",(0,s.jsxs)(n.li,{children:["\n",(0,s.jsxs)(n.p,{children:["Add an ",(0,s.jsx)(n.a,{href:"/docs/core/entities/EntityComponent",children:"EntityComponent"})," to the root GameObject of your enemy prefab."]}),"\n",(0,s.jsxs)(n.ul,{children:["\n",(0,s.jsxs)(n.li,{children:["Select the corresponding enemy entity from the ",(0,s.jsx)(n.strong,{children:(0,s.jsx)(n.code,{children:"Entity UID"})})," dropdown"]}),"\n"]}),"\n"]}),"\n",(0,s.jsxs)(n.li,{children:["\n",(0,s.jsxs)(n.p,{children:["Add a ",(0,s.jsx)(n.code,{children:"Capsule Collider"})," (or any suitable collider) to the enemy and check ",(0,s.jsx)(n.strong,{children:(0,s.jsx)(n.code,{children:"Is Trigger"})}),"."]}),"\n"]}),"\n"]}),"\n",(0,s.jsx)(n.hr,{}),"\n",(0,s.jsx)(n.h4,{id:"test-the-damage",children:"Test the Damage"}),"\n",(0,s.jsxs)(n.ol,{start:"11",children:["\n",(0,s.jsx)(n.li,{children:"Run the game.\r\nWhenever the player\u2019s weapon touches the enemy:"}),"\n"]}),"\n",(0,s.jsxs)(n.ul,{children:["\n",(0,s.jsx)(n.li,{children:"The damage graph will execute"}),"\n",(0,s.jsx)(n.li,{children:"The enemy will take damage"}),"\n"]}),"\n",(0,s.jsxs)(n.p,{children:["You can monitor the enemy\u2019s Health (hp) in the ",(0,s.jsx)(n.a,{href:"/docs/core/entities/EntityComponent",children:"EntityComponent"})," Inspector during runtime."]}),"\n",(0,s.jsx)(n.hr,{}),"\n",(0,s.jsx)(n.h3,{id:"trigger-damage-via-animation-recommended",children:"Trigger Damage via Animation (Recommended)"}),"\n",(0,s.jsxs)(n.p,{children:["To ensure damage only occurs during an attack animation, use a Unity ",(0,s.jsx)(n.code,{children:"Animation Event"}),"."]}),"\n",(0,s.jsx)(n.p,{children:"Example:"}),"\n",(0,s.jsx)(n.pre,{children:(0,s.jsx)(n.code,{className:"language-csharp",children:"public CombatDamage SwordDamageScript;\r\n\r\nvoid Start(){\r\n    SwordDamageScript.SetEnable(flase); //Disable the damage on Start.\r\n}\r\n\r\nvoid OnDamageAnimation(){\r\n    SwordDamageScript.SetEnable(0.1F); //Enable the damage for 0.1 second\r\n}\n"})}),"\n",(0,s.jsx)(n.p,{children:"This approach gives you precise control over:"}),"\n",(0,s.jsxs)(n.ul,{children:["\n",(0,s.jsxs)(n.li,{children:["\n",(0,s.jsx)(n.p,{children:"Attack timing"}),"\n"]}),"\n",(0,s.jsxs)(n.li,{children:["\n",(0,s.jsx)(n.p,{children:"Hit windows"}),"\n"]}),"\n",(0,s.jsxs)(n.li,{children:["\n",(0,s.jsx)(n.p,{children:"Combo balancing"}),"\n"]}),"\n"]}),"\n",(0,s.jsx)(n.hr,{})]})}function h(e={}){const{wrapper:n}={...(0,i.R)(),...e.components};return n?(0,s.jsx)(n,{...e,children:(0,s.jsx)(d,{...e})}):d(e)}},8453(e,n,t){t.d(n,{R:()=>a,x:()=>c});var r=t(6540);const s={},i=r.createContext(s);function a(e){const n=r.useContext(i);return r.useMemo(function(){return"function"==typeof e?e(n):{...n,...e}},[n,e])}function c(e){let n;return n=e.disableParentContext?"function"==typeof e.components?e.components(s):e.components||s:a(e.components),r.createElement(i.Provider,{value:n},e.children)}}}]);